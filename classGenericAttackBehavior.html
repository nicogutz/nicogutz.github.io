<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APT Game: GenericAttackBehavior Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">APT Game
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classGenericAttackBehavior.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classGenericAttackBehavior-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GenericAttackBehavior Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classGenericAttackBehavior.html" title="The GenericAttackBehavior class handles the basic actions of a class that can attack or be attacked.">GenericAttackBehavior</a> class handles the basic actions of a class that can attack or be attacked.  
 <a href="classGenericAttackBehavior.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="genericattackbehavior_8h_source.html">genericattackbehavior.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for GenericAttackBehavior:</div>
<div class="dyncontent">
<div class="center"><img src="classGenericAttackBehavior__inherit__graph.png" border="0" usemap="#aGenericAttackBehavior_inherit__map" alt="Inheritance graph"/></div>
<map name="aGenericAttackBehavior_inherit__map" id="aGenericAttackBehavior_inherit__map">
<area shape="rect" title="The GenericAttackBehavior class handles the basic actions of a class that can attack or be attacked." alt="" coords="24,564,223,847"/>
<area shape="rect" href="classCounterAttackBehavior.html" title="The CounterAttackBehavior class extends the GenericAttackBehavior so that the owner attacks back afte..." alt="" coords="29,895,217,1060"/>
<area shape="rect" href="classAttack.html" title="The Attack interface handles all the actions related to attacking and getting attacked." alt="" coords="5,219,241,516"/>
<area shape="rect" href="classBehavior.html" title="The Behavior class is a marker interface (abstract class) that all the behaviors have to extend...." alt="" coords="29,5,218,171"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab384dd46aa76a1a66ade48638a19e01c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGenericAttackBehavior.html#ab384dd46aa76a1a66ade48638a19e01c">GenericAttackBehavior</a> (QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt; owner)</td></tr>
<tr class="memdesc:ab384dd46aa76a1a66ade48638a19e01c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classGenericAttackBehavior.html" title="The GenericAttackBehavior class handles the basic actions of a class that can attack or be attacked.">GenericAttackBehavior</a> constructor.  <a href="classGenericAttackBehavior.html#ab384dd46aa76a1a66ade48638a19e01c">More...</a><br /></td></tr>
<tr class="separator:ab384dd46aa76a1a66ade48638a19e01c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd436666b7bb1334bfaa7ff1a8966028"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGenericAttackBehavior.html#afd436666b7bb1334bfaa7ff1a8966028">GenericAttackBehavior</a> ()=delete</td></tr>
<tr class="separator:afd436666b7bb1334bfaa7ff1a8966028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94fd29737127d2eeddbcdd7561f30c47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGenericAttackBehavior.html#a94fd29737127d2eeddbcdd7561f30c47">attack</a> (const QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt; &amp;target) override</td></tr>
<tr class="memdesc:a94fd29737127d2eeddbcdd7561f30c47"><td class="mdescLeft">&#160;</td><td class="mdescRight">attack this attacks the target with a random strength between 1 and the object strength. It simply gets all behaviors from the target and calls the getattacked function. If the target itself is not attackable but any of its children are, it will work.  <a href="classGenericAttackBehavior.html#a94fd29737127d2eeddbcdd7561f30c47">More...</a><br /></td></tr>
<tr class="separator:a94fd29737127d2eeddbcdd7561f30c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f45b163593a3545c9bcdd51fc48f22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGenericAttackBehavior.html#ad4f45b163593a3545c9bcdd51fc48f22">attack</a> (<a class="el" href="namespace__pub.html#aceb36dd0edefc86835061a00052d3ae0">Direction</a> direction) override</td></tr>
<tr class="memdesc:ad4f45b163593a3545c9bcdd51fc48f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">attack overloaded function, attacks on a direction relative to the owner.  <a href="classGenericAttackBehavior.html#ad4f45b163593a3545c9bcdd51fc48f22">More...</a><br /></td></tr>
<tr class="separator:ad4f45b163593a3545c9bcdd51fc48f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a619f4febb3487333cfe3c1f490236b2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGenericAttackBehavior.html#a619f4febb3487333cfe3c1f490236b2f">attack</a> () override</td></tr>
<tr class="memdesc:a619f4febb3487333cfe3c1f490236b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">attack overloaded, attacks on the current direction the owner is facing.  <a href="classGenericAttackBehavior.html#a619f4febb3487333cfe3c1f490236b2f">More...</a><br /></td></tr>
<tr class="separator:a619f4febb3487333cfe3c1f490236b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e5161bf144a0797c77c0f2082e1fad1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGenericAttackBehavior.html#a8e5161bf144a0797c77c0f2082e1fad1">getAttacked</a> (const QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt; &amp;by, int strength) override</td></tr>
<tr class="memdesc:a8e5161bf144a0797c77c0f2082e1fad1"><td class="mdescLeft">&#160;</td><td class="mdescRight">getAttacked handles the attack by decreasing the health of the object if it has it.  <a href="classGenericAttackBehavior.html#a8e5161bf144a0797c77c0f2082e1fad1">More...</a><br /></td></tr>
<tr class="separator:a8e5161bf144a0797c77c0f2082e1fad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classAttack"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classAttack')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classAttack.html">Attack</a></td></tr>
<tr class="memitem:a7e031fae5500343c3e330a95248cf0d3 inherit pub_methods_classAttack"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttack.html#a7e031fae5500343c3e330a95248cf0d3">Attack</a> (QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt; owner)</td></tr>
<tr class="memdesc:a7e031fae5500343c3e330a95248cf0d3 inherit pub_methods_classAttack"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classAttack.html" title="The Attack interface handles all the actions related to attacking and getting attacked.">Attack</a> default constructor.  <a href="classAttack.html#a7e031fae5500343c3e330a95248cf0d3">More...</a><br /></td></tr>
<tr class="separator:a7e031fae5500343c3e330a95248cf0d3 inherit pub_methods_classAttack"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac439d984cd34274602b28edf8a954fce inherit pub_methods_classAttack"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttack.html#ac439d984cd34274602b28edf8a954fce">Attack</a> ()=delete</td></tr>
<tr class="separator:ac439d984cd34274602b28edf8a954fce inherit pub_methods_classAttack"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a535c589e4de583455686216365fa5246 inherit pub_methods_classAttack"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttack.html#a535c589e4de583455686216365fa5246">~Attack</a> ()=0</td></tr>
<tr class="separator:a535c589e4de583455686216365fa5246 inherit pub_methods_classAttack"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed05879f951f4a6df58d630523c098c inherit pub_methods_classAttack"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAttack.html">Attack</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttack.html#a6ed05879f951f4a6df58d630523c098c">operator=</a> (const <a class="el" href="classAttack.html">Attack</a> &amp;)</td></tr>
<tr class="separator:a6ed05879f951f4a6df58d630523c098c inherit pub_methods_classAttack"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBehavior"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBehavior')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBehavior.html">Behavior</a></td></tr>
<tr class="memitem:a6d1c06c78a3a665e68584722da7d8125 inherit pub_methods_classBehavior"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBehavior.html#a6d1c06c78a3a665e68584722da7d8125">Behavior</a> (QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt; owner)</td></tr>
<tr class="memdesc:a6d1c06c78a3a665e68584722da7d8125 inherit pub_methods_classBehavior"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classBehavior.html" title="The Behavior class is a marker interface (abstract class) that all the behaviors have to extend....">Behavior</a> default constructor.  <a href="classBehavior.html#a6d1c06c78a3a665e68584722da7d8125">More...</a><br /></td></tr>
<tr class="separator:a6d1c06c78a3a665e68584722da7d8125 inherit pub_methods_classBehavior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f47fdcce64c05e4c3a27b1923ce581 inherit pub_methods_classBehavior"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBehavior.html#a99f47fdcce64c05e4c3a27b1923ce581">~Behavior</a> ()=0</td></tr>
<tr class="separator:a99f47fdcce64c05e4c3a27b1923ce581 inherit pub_methods_classBehavior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab6b9945e55735c64af699fef74b23cf inherit pub_methods_classBehavior"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBehavior.html#aab6b9945e55735c64af699fef74b23cf">Behavior</a> ()=delete</td></tr>
<tr class="separator:aab6b9945e55735c64af699fef74b23cf inherit pub_methods_classBehavior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba620bae13f7025daba95b28a83abb8 inherit pub_methods_classBehavior"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBehavior.html">Behavior</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBehavior.html#a0ba620bae13f7025daba95b28a83abb8">operator=</a> (const <a class="el" href="classBehavior.html">Behavior</a> &amp;)</td></tr>
<tr class="separator:a0ba620bae13f7025daba95b28a83abb8 inherit pub_methods_classBehavior"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_classAttack"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classAttack')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classAttack.html">Attack</a></td></tr>
<tr class="memitem:a1dac055c3d52c468c92128f46d224ec5 inherit pub_static_attribs_classAttack"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structAttack_1_1SETTINGS.html">Attack::SETTINGS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAttack.html#a1dac055c3d52c468c92128f46d224ec5">Settings</a></td></tr>
<tr class="separator:a1dac055c3d52c468c92128f46d224ec5 inherit pub_static_attribs_classAttack"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classBehavior"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classBehavior')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classBehavior.html">Behavior</a></td></tr>
<tr class="memitem:abe74f58cf2f890c3270ef06aa68d3c24 inherit pro_attribs_classBehavior"><td class="memItemLeft" align="right" valign="top">QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a></td></tr>
<tr class="memdesc:abe74f58cf2f890c3270ef06aa68d3c24 inherit pro_attribs_classBehavior"><td class="mdescLeft">&#160;</td><td class="mdescRight">m_owner the <a class="el" href="classGameObject.html" title="The GameObject class represents an individual entity within the game world, capable of various intera...">GameObject</a> this behavior belongs to.  <a href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">More...</a><br /></td></tr>
<tr class="separator:abe74f58cf2f890c3270ef06aa68d3c24 inherit pro_attribs_classBehavior"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classGenericAttackBehavior.html" title="The GenericAttackBehavior class handles the basic actions of a class that can attack or be attacked.">GenericAttackBehavior</a> class handles the basic actions of a class that can attack or be attacked. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab384dd46aa76a1a66ade48638a19e01c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab384dd46aa76a1a66ade48638a19e01c">&#9670;&nbsp;</a></span>GenericAttackBehavior() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GenericAttackBehavior::GenericAttackBehavior </td>
          <td>(</td>
          <td class="paramtype">QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt;&#160;</td>
          <td class="paramname"><em>owner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classGenericAttackBehavior.html" title="The GenericAttackBehavior class handles the basic actions of a class that can attack or be attacked.">GenericAttackBehavior</a> constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">owner</td><td>the owner of the behavior. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        : <a class="code" href="classAttack.html#ac439d984cd34274602b28edf8a954fce">Attack</a>(owner) {};</div>
<div class="ttc" id="aclassAttack_html_ac439d984cd34274602b28edf8a954fce"><div class="ttname"><a href="classAttack.html#ac439d984cd34274602b28edf8a954fce">Attack::Attack</a></div><div class="ttdeci">Attack()=delete</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afd436666b7bb1334bfaa7ff1a8966028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd436666b7bb1334bfaa7ff1a8966028">&#9670;&nbsp;</a></span>GenericAttackBehavior() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GenericAttackBehavior::GenericAttackBehavior </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a619f4febb3487333cfe3c1f490236b2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a619f4febb3487333cfe3c1f490236b2f">&#9670;&nbsp;</a></span>attack() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int GenericAttackBehavior::attack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>attack overloaded, attacks on the current direction the owner is facing. </p>
<dl class="section return"><dt>Returns</dt><dd>the health lost of target. </dd></dl>

<p>Implements <a class="el" href="classAttack.html#aa64577a5b760b6c89370df954c7fb40b">Attack</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                                  {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classGenericAttackBehavior.html#a619f4febb3487333cfe3c1f490236b2f">attack</a>(<a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>-&gt;getData(<a class="code" href="namespace__pub.html#aceb36dd0edefc86835061a00052d3ae0">DataRole::Direction</a>).value&lt;<a class="code" href="namespace__pub.html#aceb36dd0edefc86835061a00052d3ae0">Direction</a>&gt;());</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="ttc" id="aclassBehavior_html_abe74f58cf2f890c3270ef06aa68d3c24"><div class="ttname"><a href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">Behavior::m_owner</a></div><div class="ttdeci">QPointer&lt; GameObject &gt; m_owner</div><div class="ttdoc">m_owner the GameObject this behavior belongs to.</div><div class="ttdef"><b>Definition:</b> behavior.h:28</div></div>
<div class="ttc" id="aclassGenericAttackBehavior_html_a619f4febb3487333cfe3c1f490236b2f"><div class="ttname"><a href="classGenericAttackBehavior.html#a619f4febb3487333cfe3c1f490236b2f">GenericAttackBehavior::attack</a></div><div class="ttdeci">int attack() override</div><div class="ttdoc">attack overloaded, attacks on the current direction the owner is facing.</div><div class="ttdef"><b>Definition:</b> genericattackbehavior.cpp:37</div></div>
<div class="ttc" id="anamespace__pub_html_aceb36dd0edefc86835061a00052d3ae0"><div class="ttname"><a href="namespace__pub.html#aceb36dd0edefc86835061a00052d3ae0">_pub::Direction</a></div><div class="ttdeci">Direction</div><div class="ttdef"><b>Definition:</b> publicenums.h:46</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a94fd29737127d2eeddbcdd7561f30c47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94fd29737127d2eeddbcdd7561f30c47">&#9670;&nbsp;</a></span>attack() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int GenericAttackBehavior::attack </td>
          <td>(</td>
          <td class="paramtype">const QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>attack this attacks the target with a random strength between 1 and the object strength. It simply gets all behaviors from the target and calls the getattacked function. If the target itself is not attackable but any of its children are, it will work. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>the target to attack, can be a tile or a character. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the health lost by target and all its children. </dd></dl>

<p>Implements <a class="el" href="classAttack.html#a7f50af344480fcdc7021247dfda1950e">Attack</a>.</p>
<div class="fragment"><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;                                                                    {</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <span class="comment">// Get the strength of the object and calculate the attack</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="comment">// strength randomly.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <span class="keywordtype">float</span> strenght = <a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>-&gt;getData(DataRole::Strength).toFloat();</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <span class="keywordtype">int</span> attackStrength = QRandomGenerator::global()-&gt;bounded(1, (<span class="keywordtype">int</span>)strenght);</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="keywordtype">int</span> damage = 0;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="comment">// The attack has to propagate through all the children of the GameObject</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span> &amp;bh : target-&gt;getAllBehaviors&lt;<a class="code" href="classAttack.html">Attack</a>&gt;()) {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        <span class="keyword">auto</span> at = qSharedPointerDynamicCast&lt;Attack&gt;(bh);</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        <span class="keywordflow">if</span>(!bh.isNull()) {</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;            <span class="keywordtype">int</span> healthChange = at-&gt;getAttacked(<a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>, attackStrength);</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            <span class="keywordflow">if</span>(healthChange + attackStrength &gt; 0) {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;                <a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>-&gt;setData(DataRole::Energy, <a class="code" href="structMovement_1_1SETTINGS.html#a5bfd2645de28427ed05b532bef14a4c0">Movement::SETTINGS::MAX_ENERGY</a>);</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;            }</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;            damage += healthChange;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;            <a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>-&gt;setData(DataRole::Strength, strenght + 0.1);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        }</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    };</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="comment">// Health change will be negative, we want the positive.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">return</span> -damage;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
<div class="ttc" id="aclassAttack_html"><div class="ttname"><a href="classAttack.html">Attack</a></div><div class="ttdoc">The Attack interface handles all the actions related to attacking and getting attacked.</div><div class="ttdef"><b>Definition:</b> attack.h:11</div></div>
<div class="ttc" id="astructMovement_1_1SETTINGS_html_a5bfd2645de28427ed05b532bef14a4c0"><div class="ttname"><a href="structMovement_1_1SETTINGS.html#a5bfd2645de28427ed05b532bef14a4c0">Movement::SETTINGS::MAX_ENERGY</a></div><div class="ttdeci">static constexpr int MAX_ENERGY</div><div class="ttdoc">Max energy for a GameObject.</div><div class="ttdef"><b>Definition:</b> movement.h:37</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4f45b163593a3545c9bcdd51fc48f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4f45b163593a3545c9bcdd51fc48f22">&#9670;&nbsp;</a></span>attack() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int GenericAttackBehavior::attack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace__pub.html#aceb36dd0edefc86835061a00052d3ae0">Direction</a>&#160;</td>
          <td class="paramname"><em>direction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>attack overloaded function, attacks on a direction relative to the owner. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">direction</td><td>the direction to attack. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the health lost by target. </dd></dl>

<p>Implements <a class="el" href="classAttack.html#adebc3f42c4e60f7c72e024ba3ee164a3">Attack</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                                                     {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keyword">auto</span> neighbor = <a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>-&gt;getNeighbor(direction);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordflow">if</span>(!neighbor) {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    }</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classGenericAttackBehavior.html#a619f4febb3487333cfe3c1f490236b2f">attack</a>(neighbor);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e5161bf144a0797c77c0f2082e1fad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e5161bf144a0797c77c0f2082e1fad1">&#9670;&nbsp;</a></span>getAttacked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int GenericAttackBehavior::getAttacked </td>
          <td>(</td>
          <td class="paramtype">const QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>by</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>getAttacked handles the attack by decreasing the health of the object if it has it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">by</td><td>The source of the attack. </td></tr>
    <tr><td class="paramname">strength</td><td>The amount of health to loose. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the amount of health lost. </dd></dl>

<p>Implements <a class="el" href="classAttack.html#aa256ee1d560a29116883e67b329d74ff">Attack</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                                                                 {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="comment">// This is a cheaty way of showing the attacks in the view. It kinda makes sense though.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>-&gt;setData(DataRole::Strength, <a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>-&gt;getData()[DataRole::Strength].toFloat() - 0.1);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keyword">auto</span> behavior = <a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>-&gt;getBehavior&lt;<a class="code" href="classHealth.html">Health</a>&gt;();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">return</span> behavior.isNull() ? 0 : behavior-&gt;<a class="code" href="classHealth.html#a5b64418057c4aa2c5b53f4671c8b9433">getHealthChanged</a>(-strength);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
<div class="ttc" id="aclassHealth_html"><div class="ttname"><a href="classHealth.html">Health</a></div><div class="ttdoc">The Health class is an abstract class that handles health behaviors. This class is abstract to avoid ...</div><div class="ttdef"><b>Definition:</b> health.h:14</div></div>
<div class="ttc" id="aclassHealth_html_a5b64418057c4aa2c5b53f4671c8b9433"><div class="ttname"><a href="classHealth.html#a5b64418057c4aa2c5b53f4671c8b9433">Health::getHealthChanged</a></div><div class="ttdeci">virtual int getHealthChanged(int amount)</div><div class="ttdoc">getHealthChange change the health of the owner.</div><div class="ttdef"><b>Definition:</b> health.h:56</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>model/behaviors/concrete/attack/<a class="el" href="genericattackbehavior_8h_source.html">genericattackbehavior.h</a></li>
<li>model/behaviors/concrete/attack/<a class="el" href="genericattackbehavior_8cpp.html">genericattackbehavior.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classGenericAttackBehavior.html">GenericAttackBehavior</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
