<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APT Game: GenericHealthBehavior Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">APT Game
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classGenericHealthBehavior.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classGenericHealthBehavior-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GenericHealthBehavior Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classGenericHealthBehavior.html" title="The GenericHealthBehavior class sets the basic actions to change an objects health and death.">GenericHealthBehavior</a> class sets the basic actions to change an objects health and death.  
 <a href="classGenericHealthBehavior.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="generichealthbehavior_8h_source.html">generichealthbehavior.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for GenericHealthBehavior:</div>
<div class="dyncontent">
<div class="center"><img src="classGenericHealthBehavior__inherit__graph.png" border="0" usemap="#aGenericHealthBehavior_inherit__map" alt="Inheritance graph"/></div>
<map name="aGenericHealthBehavior_inherit__map" id="aGenericHealthBehavior_inherit__map">
<area shape="rect" title="The GenericHealthBehavior class sets the basic actions to change an objects health and death." alt="" coords="30,520,218,700"/>
<area shape="rect" href="classPoisonOnKilledBehavior.html" title="The PoisonOnKilledBehavior class triggers the poisoning of neighbors when object dies...." alt="" coords="15,748,233,957"/>
<area shape="rect" href="classHealth.html" title="The Health class is an abstract class that handles health behaviors. This class is abstract to avoid ..." alt="" coords="5,219,243,472"/>
<area shape="rect" href="classBehavior.html" title="The Behavior class is a marker interface (abstract class) that all the behaviors have to extend...." alt="" coords="29,5,219,171"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad244d9b8263d615dd47eaa9b4880043f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGenericHealthBehavior.html#ad244d9b8263d615dd47eaa9b4880043f">GenericHealthBehavior</a> (QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt; owner)</td></tr>
<tr class="memdesc:ad244d9b8263d615dd47eaa9b4880043f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classGenericHealthBehavior.html" title="The GenericHealthBehavior class sets the basic actions to change an objects health and death.">GenericHealthBehavior</a> default constructor.  <a href="classGenericHealthBehavior.html#ad244d9b8263d615dd47eaa9b4880043f">More...</a><br /></td></tr>
<tr class="separator:ad244d9b8263d615dd47eaa9b4880043f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d65e73746657bda339d45bbe205b3eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGenericHealthBehavior.html#a2d65e73746657bda339d45bbe205b3eb">GenericHealthBehavior</a> ()=delete</td></tr>
<tr class="separator:a2d65e73746657bda339d45bbe205b3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac04d2b1978cccd56a4985efd5df51c64"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGenericHealthBehavior.html#ac04d2b1978cccd56a4985efd5df51c64">getHealthChanged</a> (int amount) override</td></tr>
<tr class="memdesc:ac04d2b1978cccd56a4985efd5df51c64"><td class="mdescLeft">&#160;</td><td class="mdescRight">getHealthChanged changes the health of an object by a specified amount. This function will change the health up to the MAX_HEALTH and MIN_HEALTH. If the amount to change makes the health lower than MIN_HEALTH, it will cause the object to die. If it makes it bigger than MAX_HEALTH, it will cause the object to heal to the max and returns the difference between current health (before healing) and MAX_HEALTH.  <a href="classGenericHealthBehavior.html#ac04d2b1978cccd56a4985efd5df51c64">More...</a><br /></td></tr>
<tr class="separator:ac04d2b1978cccd56a4985efd5df51c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f1fd00edbe71b56805a93283a797dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGenericHealthBehavior.html#a38f1fd00edbe71b56805a93283a797dc">die</a> () override</td></tr>
<tr class="memdesc:a38f1fd00edbe71b56805a93283a797dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">die kills an object, deletes them. Since the health = 0 is set in the getHealthChanged function.  <a href="classGenericHealthBehavior.html#a38f1fd00edbe71b56805a93283a797dc">More...</a><br /></td></tr>
<tr class="separator:a38f1fd00edbe71b56805a93283a797dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classHealth"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classHealth')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classHealth.html">Health</a></td></tr>
<tr class="memitem:aa24527c105cd32770324ff26a78f021d inherit pub_methods_classHealth"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHealth.html#aa24527c105cd32770324ff26a78f021d">Health</a> (QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt; owner)</td></tr>
<tr class="memdesc:aa24527c105cd32770324ff26a78f021d inherit pub_methods_classHealth"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classHealth.html" title="The Health class is an abstract class that handles health behaviors. This class is abstract to avoid ...">Health</a> default constructor.  <a href="classHealth.html#aa24527c105cd32770324ff26a78f021d">More...</a><br /></td></tr>
<tr class="separator:aa24527c105cd32770324ff26a78f021d inherit pub_methods_classHealth"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab93e9d9ae81196519765e03a748bbfe3 inherit pub_methods_classHealth"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHealth.html#ab93e9d9ae81196519765e03a748bbfe3">Health</a> ()=delete</td></tr>
<tr class="separator:ab93e9d9ae81196519765e03a748bbfe3 inherit pub_methods_classHealth"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e15d252f909f0908e77bc175b65a82 inherit pub_methods_classHealth"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHealth.html#a49e15d252f909f0908e77bc175b65a82">~Health</a> ()=0</td></tr>
<tr class="separator:a49e15d252f909f0908e77bc175b65a82 inherit pub_methods_classHealth"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe7ce3300f45e6a5ed8eff34c2812223 inherit pub_methods_classHealth"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classHealth.html">Health</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHealth.html#abe7ce3300f45e6a5ed8eff34c2812223">operator=</a> (const <a class="el" href="classHealth.html">Health</a> &amp;)</td></tr>
<tr class="separator:abe7ce3300f45e6a5ed8eff34c2812223 inherit pub_methods_classHealth"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f3395c37c1cbe938be776fd62bdbae inherit pub_methods_classHealth"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHealth.html#a94f3395c37c1cbe938be776fd62bdbae">heal</a> (const QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt; &amp;target)</td></tr>
<tr class="memdesc:a94f3395c37c1cbe938be776fd62bdbae inherit pub_methods_classHealth"><td class="mdescLeft">&#160;</td><td class="mdescRight">heal heals an object. It is important to differentiate a simple health change and healing. Healing can involve more than simply changing health. For example, it can remove poison on the target, it can decrease the health of the owner, etc.  <a href="classHealth.html#a94f3395c37c1cbe938be776fd62bdbae">More...</a><br /></td></tr>
<tr class="separator:a94f3395c37c1cbe938be776fd62bdbae inherit pub_methods_classHealth"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBehavior"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBehavior')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBehavior.html">Behavior</a></td></tr>
<tr class="memitem:a6d1c06c78a3a665e68584722da7d8125 inherit pub_methods_classBehavior"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBehavior.html#a6d1c06c78a3a665e68584722da7d8125">Behavior</a> (QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt; owner)</td></tr>
<tr class="memdesc:a6d1c06c78a3a665e68584722da7d8125 inherit pub_methods_classBehavior"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classBehavior.html" title="The Behavior class is a marker interface (abstract class) that all the behaviors have to extend....">Behavior</a> default constructor.  <a href="classBehavior.html#a6d1c06c78a3a665e68584722da7d8125">More...</a><br /></td></tr>
<tr class="separator:a6d1c06c78a3a665e68584722da7d8125 inherit pub_methods_classBehavior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f47fdcce64c05e4c3a27b1923ce581 inherit pub_methods_classBehavior"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBehavior.html#a99f47fdcce64c05e4c3a27b1923ce581">~Behavior</a> ()=0</td></tr>
<tr class="separator:a99f47fdcce64c05e4c3a27b1923ce581 inherit pub_methods_classBehavior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab6b9945e55735c64af699fef74b23cf inherit pub_methods_classBehavior"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBehavior.html#aab6b9945e55735c64af699fef74b23cf">Behavior</a> ()=delete</td></tr>
<tr class="separator:aab6b9945e55735c64af699fef74b23cf inherit pub_methods_classBehavior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba620bae13f7025daba95b28a83abb8 inherit pub_methods_classBehavior"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBehavior.html">Behavior</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBehavior.html#a0ba620bae13f7025daba95b28a83abb8">operator=</a> (const <a class="el" href="classBehavior.html">Behavior</a> &amp;)</td></tr>
<tr class="separator:a0ba620bae13f7025daba95b28a83abb8 inherit pub_methods_classBehavior"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_classHealth"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classHealth')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classHealth.html">Health</a></td></tr>
<tr class="memitem:ad62e0beaed81a07526ead044ade5058f inherit pub_static_attribs_classHealth"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structHealth_1_1SETTINGS.html">Health::SETTINGS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHealth.html#ad62e0beaed81a07526ead044ade5058f">Settings</a></td></tr>
<tr class="separator:ad62e0beaed81a07526ead044ade5058f inherit pub_static_attribs_classHealth"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classBehavior"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classBehavior')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classBehavior.html">Behavior</a></td></tr>
<tr class="memitem:abe74f58cf2f890c3270ef06aa68d3c24 inherit pro_attribs_classBehavior"><td class="memItemLeft" align="right" valign="top">QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a></td></tr>
<tr class="memdesc:abe74f58cf2f890c3270ef06aa68d3c24 inherit pro_attribs_classBehavior"><td class="mdescLeft">&#160;</td><td class="mdescRight">m_owner the <a class="el" href="classGameObject.html" title="The GameObject class represents an individual entity within the game world, capable of various intera...">GameObject</a> this behavior belongs to.  <a href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">More...</a><br /></td></tr>
<tr class="separator:abe74f58cf2f890c3270ef06aa68d3c24 inherit pro_attribs_classBehavior"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classGenericHealthBehavior.html" title="The GenericHealthBehavior class sets the basic actions to change an objects health and death.">GenericHealthBehavior</a> class sets the basic actions to change an objects health and death. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad244d9b8263d615dd47eaa9b4880043f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad244d9b8263d615dd47eaa9b4880043f">&#9670;&nbsp;</a></span>GenericHealthBehavior() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GenericHealthBehavior::GenericHealthBehavior </td>
          <td>(</td>
          <td class="paramtype">QPointer&lt; <a class="el" href="classGameObject.html">GameObject</a> &gt;&#160;</td>
          <td class="paramname"><em>owner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classGenericHealthBehavior.html" title="The GenericHealthBehavior class sets the basic actions to change an objects health and death.">GenericHealthBehavior</a> default constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">owner</td><td>the owner of the behavior. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        : <a class="code" href="classHealth.html#ab93e9d9ae81196519765e03a748bbfe3">Health</a>(owner) {};</div>
<div class="ttc" id="aclassHealth_html_ab93e9d9ae81196519765e03a748bbfe3"><div class="ttname"><a href="classHealth.html#ab93e9d9ae81196519765e03a748bbfe3">Health::Health</a></div><div class="ttdeci">Health()=delete</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d65e73746657bda339d45bbe205b3eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d65e73746657bda339d45bbe205b3eb">&#9670;&nbsp;</a></span>GenericHealthBehavior() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GenericHealthBehavior::GenericHealthBehavior </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a38f1fd00edbe71b56805a93283a797dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38f1fd00edbe71b56805a93283a797dc">&#9670;&nbsp;</a></span>die()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GenericHealthBehavior::die </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>die kills an object, deletes them. Since the health = 0 is set in the getHealthChanged function. </p>

<p>Reimplemented from <a class="el" href="classHealth.html#abe25a43ec1eed80d1f8e62de9daca895">Health</a>.</p>

<p>Reimplemented in <a class="el" href="classPoisonOnKilledBehavior.html#ab8bd38d0c03bb7d73d07892a42e8e7cd">PoisonOnKilledBehavior</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                                {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="comment">// Not all objects disappear when they die so we cannot use the</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="comment">// Destroyed DataRole here</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div>
<div class="ttc" id="aclassBehavior_html_abe74f58cf2f890c3270ef06aa68d3c24"><div class="ttname"><a href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">Behavior::m_owner</a></div><div class="ttdeci">QPointer&lt; GameObject &gt; m_owner</div><div class="ttdoc">m_owner the GameObject this behavior belongs to.</div><div class="ttdef"><b>Definition:</b> behavior.h:28</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac04d2b1978cccd56a4985efd5df51c64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac04d2b1978cccd56a4985efd5df51c64">&#9670;&nbsp;</a></span>getHealthChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int GenericHealthBehavior::getHealthChanged </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>amount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>getHealthChanged changes the health of an object by a specified amount. This function will change the health up to the MAX_HEALTH and MIN_HEALTH. If the amount to change makes the health lower than MIN_HEALTH, it will cause the object to die. If it makes it bigger than MAX_HEALTH, it will cause the object to heal to the max and returns the difference between current health (before healing) and MAX_HEALTH. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">amount</td><td>the amount to change, can be negative. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the health changed. </dd></dl>

<p>Reimplemented from <a class="el" href="classHealth.html#a5b64418057c4aa2c5b53f4671c8b9433">Health</a>.</p>
<div class="fragment"><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                                                      {</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    QVariant currentHealth = <a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>-&gt;getData(DataRole::Health);</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <span class="keywordflow">if</span>(currentHealth.isNull()) {</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        <span class="keywordflow">throw</span>(<span class="stringliteral">&quot;Cannot change health of object without health&quot;</span>);</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    }</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <span class="comment">// Do not heal if fully healed</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="keywordflow">if</span>(currentHealth == <a class="code" href="classHealth.html#ad62e0beaed81a07526ead044ade5058f">Settings</a>.<a class="code" href="structHealth_1_1SETTINGS.html#aac94cc993d54a8e488dc4a64ffebf78f">MAX_HEALTH</a> &amp;&amp; amount &gt; 0) {</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    }</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="comment">// Check if health change is mortal or bigger than max.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keywordtype">int</span> newHealth = currentHealth.toInt() + amount;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="keywordflow">if</span>(newHealth &lt;= <a class="code" href="classHealth.html#ad62e0beaed81a07526ead044ade5058f">Settings</a>.<a class="code" href="structHealth_1_1SETTINGS.html#a651a2044d8f53559f827c9bd65729718">MIN_HEALTH</a>) {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        <a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>-&gt;setData(DataRole::Health, 0);</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        <a class="code" href="classGenericHealthBehavior.html#a38f1fd00edbe71b56805a93283a797dc">die</a>();</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(newHealth &gt; <a class="code" href="classHealth.html#ad62e0beaed81a07526ead044ade5058f">Settings</a>.<a class="code" href="structHealth_1_1SETTINGS.html#aac94cc993d54a8e488dc4a64ffebf78f">MAX_HEALTH</a>) {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        newHealth = <a class="code" href="classHealth.html#ad62e0beaed81a07526ead044ade5058f">Settings</a>.<a class="code" href="structHealth_1_1SETTINGS.html#aac94cc993d54a8e488dc4a64ffebf78f">MAX_HEALTH</a>;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    }</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <a class="code" href="classBehavior.html#abe74f58cf2f890c3270ef06aa68d3c24">m_owner</a>-&gt;setData(DataRole::Health, QVariant(newHealth));</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordflow">return</span> newHealth - currentHealth.toInt();</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;}</div>
<div class="ttc" id="aclassGenericHealthBehavior_html_a38f1fd00edbe71b56805a93283a797dc"><div class="ttname"><a href="classGenericHealthBehavior.html#a38f1fd00edbe71b56805a93283a797dc">GenericHealthBehavior::die</a></div><div class="ttdeci">void die() override</div><div class="ttdoc">die kills an object, deletes them. Since the health = 0 is set in the getHealthChanged function.</div><div class="ttdef"><b>Definition:</b> generichealthbehavior.cpp:27</div></div>
<div class="ttc" id="aclassHealth_html_ad62e0beaed81a07526ead044ade5058f"><div class="ttname"><a href="classHealth.html#ad62e0beaed81a07526ead044ade5058f">Health::Settings</a></div><div class="ttdeci">static const struct Health::SETTINGS Settings</div></div>
<div class="ttc" id="astructHealth_1_1SETTINGS_html_a651a2044d8f53559f827c9bd65729718"><div class="ttname"><a href="structHealth_1_1SETTINGS.html#a651a2044d8f53559f827c9bd65729718">Health::SETTINGS::MIN_HEALTH</a></div><div class="ttdeci">static constexpr int MIN_HEALTH</div><div class="ttdef"><b>Definition:</b> health.h:35</div></div>
<div class="ttc" id="astructHealth_1_1SETTINGS_html_aac94cc993d54a8e488dc4a64ffebf78f"><div class="ttname"><a href="structHealth_1_1SETTINGS.html#aac94cc993d54a8e488dc4a64ffebf78f">Health::SETTINGS::MAX_HEALTH</a></div><div class="ttdeci">static constexpr int MAX_HEALTH</div><div class="ttdef"><b>Definition:</b> health.h:33</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>model/behaviors/concrete/health/<a class="el" href="generichealthbehavior_8h_source.html">generichealthbehavior.h</a></li>
<li>model/behaviors/concrete/health/<a class="el" href="generichealthbehavior_8cpp.html">generichealthbehavior.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classGenericHealthBehavior.html">GenericHealthBehavior</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
